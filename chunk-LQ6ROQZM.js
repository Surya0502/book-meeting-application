import{a as j,b as v,c as z,d as U,e as E,f as H,g as P,h as w,i as N,j as J,k as I}from"./chunk-ENJO6PHD.js";import{$ as W,Ba as e,Ca as t,Ea as L,Fa as p,Ga as b,Ha as i,Ia as m,Ka as C,L as V,La as u,Ma as M,Na as h,Pa as y,T as S,a as R,aa as A,b as F,ea as q,fb as k,gb as O,hb as T,oa as d,pa as x,xa as _,za as c}from"./chunk-2LVG2L7T.js";var f=class s{rooms=Array.from({length:10},(a,n)=>({id:n+1,name:`Room #${n+1}`}));meetings=[];constructor(){this.loadMeetingsFromLocalStorage()}addMeeting(a){this.meetings.push(F(R({},a),{id:this.meetings.length+1})),this.saveMeetingsToLocalStorage()}getMeetings(){return this.meetings}deleteMeeting(a){this.meetings=this.meetings.filter(n=>n.id!==a),this.saveMeetingsToLocalStorage()}checkRoomStatus(a,n,o){return this.rooms.map(l=>{let r=this.meetings.some(g=>g.room===l.name&&g.date===a&&(n>=g.startTime&&n<g.endTime||o>g.startTime&&o<=g.endTime)),D=this.meetings.some(g=>g.room===l.name&&g.date===a&&g.startTime===n&&g.endTime===o);return F(R({},l),{status:D?"Booked":r?"In-Use":"Available"})})}saveMeetingsToLocalStorage(){localStorage.setItem("meetings",JSON.stringify(this.meetings))}loadMeetingsFromLocalStorage(){let a=localStorage.getItem("meetings");this.meetings=a?JSON.parse(a):[]}static \u0275fac=function(n){return new(n||s)};static \u0275prov=V({token:s,factory:s.\u0275fac,providedIn:"root"})};function $(s,a){if(s&1&&(e(0,"option",22),i(1),t()),s&2){let n=a.$implicit;c("value",n.name),d(),C(" ",n.name," - ",n.status," ")}}function ee(s,a){if(s&1&&(e(0,"div",23),i(1),t()),s&2){let n=b();d(),m(n.errorMessage)}}var B=class s{constructor(a){this.ms=a}data={userName:"",date:"",startTime:"",endTime:"",room:"",agenda:""};errorMessage="";roomStatuses=[];close=new q;checkRoomStatus(){this.data.date&&this.data.startTime&&this.data.endTime?(this.roomStatuses=this.ms.checkRoomStatus(this.data.date,this.data.startTime,this.data.endTime),console.log(this.roomStatuses)):this.roomStatuses=[]}book(){let a=this.timeToMinutes(this.data.startTime),n=this.timeToMinutes(this.data.endTime);if(!this.data.userName||!this.data.agenda||!this.data.date||!this.data.startTime||!this.data.endTime||!this.data.room){this.errorMessage="All fields are required.";return}if(n<=a){this.errorMessage="End time must be later than start time.";return}if(n-a<30){this.errorMessage="Meeting should be at least 30 minutes.";return}let r=new Date(this.data.date).getDay();if(r===0||r===6){this.errorMessage="Meeting rooms can only be booked Monday to Friday.";return}let D=parseInt(this.data.startTime.split(":")[0],10),g=parseInt(this.data.endTime.split(":")[0],10);if(D<9||g>18){this.errorMessage="Meeting rooms can only be booked between 9:00 AM and 6:00 PM.";return}this.ms.addMeeting(this.data),this.errorMessage="",this.close.emit()}timeToMinutes(a){let[n,o]=a.split(":").map(Number);return n*60+o}closeModal(){this.close.emit()}static \u0275fac=function(n){return new(n||s)(x(f))};static \u0275cmp=S({type:s,selectors:[["app-book-meeting-modal"]],outputs:{close:"close"},standalone:!0,features:[y],decls:38,vars:8,consts:[[1,"book-modal-style"],[1,"book-modal"],[3,"ngSubmit"],[1,"form-group"],["for","userName"],["id","userName","type","text","placeholder","Enter your name","name","userName","required","",3,"ngModelChange","ngModel"],["for","date"],["id","date","type","date","name","date","required","",3,"ngModelChange","change","ngModel"],["for","startTime"],["id","startTime","type","time","name","startTime","required","",3,"ngModelChange","change","ngModel"],["for","endTime"],["id","endTime","type","time","name","endTime","required","",3,"ngModelChange","change","ngModel"],["for","room"],["id","room","name","room","required","",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","agenda"],["id","agenda","type","text","placeholder","Enter meeting agenda","name","agenda","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"button-group"],["type","submit",1,"btn-primary"],["type","button",1,"btn-secondary",3,"click"],[3,"value"],[1,"error-message"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"div",1)(2,"h3"),i(3,"Book Meeting"),t(),e(4,"form",2),p("ngSubmit",function(){return o.book()}),e(5,"div",3)(6,"label",4),i(7,"User Name"),t(),e(8,"input",5),h("ngModelChange",function(r){return M(o.data.userName,r)||(o.data.userName=r),r}),t()(),e(9,"div",3)(10,"label",6),i(11,"Meeting Date"),t(),e(12,"input",7),h("ngModelChange",function(r){return M(o.data.date,r)||(o.data.date=r),r}),p("change",function(){return o.checkRoomStatus()}),t()(),e(13,"div",3)(14,"label",8),i(15,"Start Time"),t(),e(16,"input",9),h("ngModelChange",function(r){return M(o.data.startTime,r)||(o.data.startTime=r),r}),p("change",function(){return o.checkRoomStatus()}),t()(),e(17,"div",3)(18,"label",10),i(19,"End Time"),t(),e(20,"input",11),h("ngModelChange",function(r){return M(o.data.endTime,r)||(o.data.endTime=r),r}),p("change",function(){return o.checkRoomStatus()}),t()(),e(21,"div",3)(22,"label",12),i(23,"Meeting Room"),t(),e(24,"select",13),h("ngModelChange",function(r){return M(o.data.room,r)||(o.data.room=r),r}),e(25,"option",14),i(26,"Select a room"),t(),_(27,$,2,3,"option",15),t()(),e(28,"div",3)(29,"label",16),i(30,"Agenda"),t(),e(31,"input",17),h("ngModelChange",function(r){return M(o.data.agenda,r)||(o.data.agenda=r),r}),t()(),_(32,ee,2,1,"div",18),e(33,"div",19)(34,"button",20),i(35,"Book Meeting"),t(),e(36,"button",21),p("click",function(){return o.closeModal()}),i(37,"Cancel"),t()()()()()),n&2&&(d(8),u("ngModel",o.data.userName),d(4),u("ngModel",o.data.date),d(4),u("ngModel",o.data.startTime),d(4),u("ngModel",o.data.endTime),d(4),u("ngModel",o.data.room),d(3),c("ngForOf",o.roomStatuses),d(4),u("ngModel",o.data.agenda),d(),c("ngIf",o.errorMessage))},dependencies:[I,H,w,N,j,P,v,z,J,E,U,T,k,O],styles:[".book-modal-style[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;font-family:Arial,sans-serif}.book-modal[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:550px;box-shadow:0 4px 10px #0003}.book-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center;font-weight:700;font-size:18px}.form-group[_ngcontent-%COMP%]{width:90%;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;font-size:14px}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;text-align:center;margin-top:-8px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;width:90%;margin:0 auto}.btn-primary[_ngcontent-%COMP%]{flex:1;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.btn-secondary[_ngcontent-%COMP%]{flex:1;padding:10px;background-color:gray;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}"]})};function te(s,a){if(s&1){let n=L();e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t(),e(13,"td")(14,"button",14),p("click",function(){let l=W(n).$implicit,r=b();return A(r.delete(l.id))}),i(15,"Delete"),t()()()}if(s&2){let n=a.$implicit,o=a.index;d(2),m(o+1),d(2),m(n.userName),d(2),m(n.agenda),d(2),m(n.date),d(2),C("",n.startTime," - ",n.endTime,""),d(2),m(n.room)}}function ne(s,a){s&1&&(e(0,"tr")(1,"td",15),i(2,"No meetings scheduled"),t()())}function oe(s,a){if(s&1&&(e(0,"option",16),i(1),t()),s&2){let n=a.$implicit;c("value",n.name),d(),m(n.name)}}function ie(s,a){if(s&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t()()),s&2){let n=a.$implicit,o=a.index;d(2),m(o+1),d(2),m(n.userName),d(2),m(n.agenda),d(2),m(n.date),d(2),C("",n.startTime," - ",n.endTime,""),d(2),m(n.room)}}function ae(s,a){s&1&&(e(0,"tr")(1,"td",17),i(2,"No meetings for this room"),t()())}function re(s,a){if(s&1){let n=L();e(0,"app-book-meeting-modal",18),p("close",function(){W(n);let l=b();return A(l.closeModal())}),t()}}var K=class s{constructor(a){this.ms=a;this.meetings=this.ms.getMeetings(),this.rooms=this.ms.rooms,this.selectedRoom=this.rooms[0]?.name,this.filterMeetingsByRoom()}meetings=[];roomMeetings=[];rooms=[];selectedRoom="";showModal=!1;delete(a){confirm("Are you sure you want to delete this meeting?")&&(this.ms.deleteMeeting(a),this.meetings=this.ms.getMeetings(),this.filterMeetingsByRoom())}openModal(){this.showModal=!0}closeModal(){this.showModal=!1,this.meetings=this.ms.getMeetings(),this.filterMeetingsByRoom()}filterMeetingsByRoom(){this.roomMeetings=this.meetings.filter(a=>a.room===this.selectedRoom)}static \u0275fac=function(n){return new(n||s)(x(f))};static \u0275cmp=S({type:s,selectors:[["app-dashboard"]],standalone:!0,features:[y],decls:60,vars:7,consts:[[1,"dashboard-container"],[1,"header"],[1,"user-name"],["href","#",1,"logout-link"],[1,"book-meeting-btn",3,"click"],[1,"upcoming-meetings"],[1,"meetings-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"room-details"],["for","room-select",1,"room-select-label"],["id","room-select",1,"room-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"close",4,"ngIf"],[1,"delete-btn",3,"click"],["colspan","7",1,"no-meetings"],[3,"value"],["colspan","6",1,"no-meetings"],[3,"close"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"header",1)(2,"h2"),i(3,"Book Room Meeting"),t(),e(4,"div")(5,"span",2),i(6,"Infrd Test"),t(),e(7,"a",3),i(8,"Logout"),t()()(),e(9,"button",4),p("click",function(){return o.openModal()}),i(10,"Book Meeting"),t(),e(11,"div",5)(12,"h3"),i(13,"Your Upcoming Meetings"),t(),e(14,"table",6)(15,"thead")(16,"tr")(17,"th"),i(18,"Sr No"),t(),e(19,"th"),i(20,"User Name"),t(),e(21,"th"),i(22,"Agenda"),t(),e(23,"th"),i(24,"Date"),t(),e(25,"th"),i(26,"Time"),t(),e(27,"th"),i(28,"Room"),t(),e(29,"th"),i(30,"Actions"),t()()(),e(31,"tbody"),_(32,te,16,7,"tr",7)(33,ne,3,0,"tr",8),t()()(),e(34,"div",9)(35,"h3"),i(36,"Rooms Meeting Details"),t(),e(37,"label",10),i(38,"Select Meeting Room"),t(),e(39,"select",11),h("ngModelChange",function(r){return M(o.selectedRoom,r)||(o.selectedRoom=r),r}),p("change",function(){return o.filterMeetingsByRoom()}),_(40,oe,2,2,"option",12),t(),e(41,"table",6)(42,"thead")(43,"tr")(44,"th"),i(45,"Sr No"),t(),e(46,"th"),i(47,"User Name"),t(),e(48,"th"),i(49,"Agenda"),t(),e(50,"th"),i(51,"Date"),t(),e(52,"th"),i(53,"Time"),t(),e(54,"th"),i(55,"Room"),t()()(),e(56,"tbody"),_(57,ie,13,7,"tr",7)(58,ae,3,0,"tr",8),t()()(),_(59,re,1,0,"app-book-meeting-modal",13),t()),n&2&&(d(32),c("ngForOf",o.meetings),d(),c("ngIf",o.meetings.length===0),d(6),u("ngModel",o.selectedRoom),d(),c("ngForOf",o.rooms),d(17),c("ngForOf",o.roomMeetings),d(),c("ngIf",o.roomMeetings.length===0),d(),c("ngIf",o.showModal))},dependencies:[B,T,k,O,I,w,N,P,v,E],styles:[".dashboard-container[_ngcontent-%COMP%]{width:80%;margin:50px auto;font-family:Arial,sans-serif}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{margin-right:10px}.dashboard-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .logout-link[_ngcontent-%COMP%]{text-decoration:none;color:red;font-weight:700}.dashboard-container[_ngcontent-%COMP%]   .book-meeting-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#00f;color:#fff;border:none;border-radius:4px;cursor:pointer;margin-bottom:20px}.dashboard-container[_ngcontent-%COMP%]   .book-meeting-btn[_ngcontent-%COMP%]:hover{background-color:#00008b}.dashboard-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.upcoming-meetings, .room-details)[_ngcontent-%COMP%]{border:1px solid #ccc;padding:20px;margin-bottom:20px}.dashboard-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.upcoming-meetings, .room-details)[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px}.dashboard-container[_ngcontent-%COMP%]   .meetings-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;text-align:left}.dashboard-container[_ngcontent-%COMP%]   .meetings-table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(th, td)[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.dashboard-container[_ngcontent-%COMP%]   .meetings-table[_ngcontent-%COMP%]   .no-meetings[_ngcontent-%COMP%]{text-align:center;padding:8px;color:gray}.dashboard-container[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{padding:5px 10px;background-color:red;color:#fff;border:none;border-radius:4px;cursor:pointer}.dashboard-container[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background-color:#8b0000}.dashboard-container[_ngcontent-%COMP%]   .room-select-label[_ngcontent-%COMP%]{margin-bottom:10px;display:block}.dashboard-container[_ngcontent-%COMP%]   .room-select[_ngcontent-%COMP%]{padding:8px;width:100%;margin-bottom:15px;border:1px solid #ccc;border-radius:4px}"]})};export{K as DashboardComponent};
